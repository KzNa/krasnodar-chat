{"version":3,"sources":["meteor://ðŸ’»app/server/publications/channelAutocomplete.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CAAe,qBAAf,EAAsC,SAAC,IAAD;AACrC;AAAA,WAAW,CAAC,MAAZ;AACC,WAAO,IAAI,CAAC,KAAL,EAAP,CADD;GAAA;AAAA,EAGA,MAAM,IAHN;AAAA,EAKA,UACC;AAAA,YACC;AAAA,WAAK,CAAL;AAAA,MACA,MAAM,CADN;KADD;AAAA,IAGA,OAAO,CAHP;AAAA,IAIA,MACC;AAAA,YAAM,CAAN;KALD;GAND;AAAA,EAaA,eAAe,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,4BAAxB,CAAqD,IAArD,EAA2D,CAAC,GAAD,CAA3D,EAAkE,OAAlE,CAA0E,CAAC,cAA3E,CACd;AAAA,WAAO,SAAC,GAAD,EAAM,MAAN;aACN,GAAG,CAAC,KAAJ,CAAU,sBAAV,EAAkC,GAAlC,EAAuC,MAAvC,EADM;IAAA,CAAP;AAAA,IAEA,SAAS,SAAC,GAAD,EAAM,MAAN;aACR,GAAG,CAAC,OAAJ,CAAY,sBAAZ,EAAoC,GAApC,EAAyC,MAAzC,EADQ;IAAA,CAFT;AAAA,IAIA,SAAS,SAAC,GAAD,EAAM,MAAN;aACR,GAAG,CAAC,OAAJ,CAAY,sBAAZ,EAAoC,GAApC,EAAyC,MAAzC,EADQ;IAAA,CAJT;GADc,CAbf;AAAA,EAoBA,IAAC,MAAD,EApBA;AAAA,EAqBA,IAAC,OAAD,CAAQ;WACP,YAAY,CAAC,IAAb,GADO;EAAA,CAAR,CArBA,CADqC;AAAA,CAAtC","file":"/server/publications/channelAutocomplete.coffee.js","sourcesContent":["Meteor.publish 'channelAutocomplete', (name) ->\n\tunless this.userId\n\t\treturn this.ready()\n\n\tpub = this\n\n\toptions =\n\t\tfields:\n\t\t\t_id: 1\n\t\t\tname: 1\n\t\tlimit: 5\n\t\tsort:\n\t\t\tname: 1\n\n\tcursorHandle = RocketChat.models.Rooms.findByNameContainingAndTypes(name, ['c'], options).observeChanges\n\t\tadded: (_id, record) ->\n\t\t\tpub.added('channel-autocomplete', _id, record)\n\t\tchanged: (_id, record) ->\n\t\t\tpub.changed('channel-autocomplete', _id, record)\n\t\tremoved: (_id, record) ->\n\t\t\tpub.removed('channel-autocomplete', _id, record)\n\t@ready()\n\t@onStop ->\n\t\tcursorHandle.stop()\n\treturn\n"]}