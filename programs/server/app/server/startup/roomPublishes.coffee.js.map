{"version":3,"sources":["meteor://ðŸ’»app/server/startup/roomPublishes.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CAAe;AACd,YAAU,CAAC,SAAS,CAAC,UAArB,CAAgC,GAAhC,EAAqC,SAAC,UAAD;AACpC;AAAA,cACC;AAAA,cACC;AAAA,cAAM,CAAN;AAAA,QACA,GAAG,CADH;AAAA,QAEA,IAAI,CAFJ;AAAA,QAGA,GAAG,CAHH;AAAA,QAIA,WAAW,CAJX;AAAA,QAKA,OAAO,CALP;AAAA,QAMA,OAAO,CANP;AAAA,QAOA,UAAU,CAPV;OADD;KADD;AAWA,WAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAxB,CAA0C,GAA1C,EAA+C,UAA/C,EAA2D,OAA3D,CAAP,CAZoC;EAAA,CAArC;AAAA,EAcA,UAAU,CAAC,SAAS,CAAC,UAArB,CAAgC,GAAhC,EAAqC,SAAC,UAAD;AACpC;AAAA,cACC;AAAA,cACC;AAAA,cAAM,CAAN;AAAA,QACA,GAAG,CADH;AAAA,QAEA,IAAI,CAFJ;AAAA,QAGA,GAAG,CAHH;AAAA,QAIA,WAAW,CAJX;AAAA,QAKA,OAAO,CALP;AAAA,QAMA,OAAO,CANP;AAAA,QAOA,UAAU,CAPV;OADD;KADD;AAAA,IAWA,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,IAAI,CAAC,MAAzC,EAAiD;AAAA,cAAQ;AAAA,kBAAU,CAAV;OAAR;KAAjD,CAXP;AAYA,WAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAxB,CAA2D,GAA3D,EAAgE,UAAhE,EAA4E,IAAI,CAAC,QAAjF,EAA2F,OAA3F,CAAP,CAboC;EAAA,CAArC,CAdA;SA6BA,UAAU,CAAC,SAAS,CAAC,UAArB,CAAgC,GAAhC,EAAqC,SAAC,UAAD;AACpC;AAAA,cACC;AAAA,cACC;AAAA,cAAM,CAAN;AAAA,QACA,GAAG,CADH;AAAA,QAEA,IAAI,CAFJ;AAAA,QAGA,GAAG,CAHH;AAAA,QAIA,WAAW,CAJX;AAAA,QAKA,OAAO,CALP;OADD;KADD;AAAA,IAQA,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,IAAI,CAAC,MAAzC,EAAiD;AAAA,cAAQ;AAAA,kBAAU,CAAV;OAAR;KAAjD,CARP;AASA,WAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,4BAAxB,CAAqD,GAArD,EAA0D,CAAC,IAAI,CAAC,QAAN,EAAgB,UAAhB,CAA1D,EAAuF,OAAvF,CAAP,CAVoC;EAAA,CAArC,EA9Bc;AAAA,CAAf","file":"/server/startup/roomPublishes.coffee.js","sourcesContent":["Meteor.startup ->\n\tRocketChat.roomTypes.setPublish 'c', (identifier) ->\n\t\toptions =\n\t\t\tfields:\n\t\t\t\tname: 1\n\t\t\t\tt: 1\n\t\t\t\tcl: 1\n\t\t\t\tu: 1\n\t\t\t\tusernames: 1\n\t\t\t\ttopic: 1\n\t\t\t\tmuted: 1\n\t\t\t\tarchived: 1\n\n\t\treturn RocketChat.models.Rooms.findByTypeAndName 'c', identifier, options\n\n\tRocketChat.roomTypes.setPublish 'p', (identifier) ->\n\t\toptions =\n\t\t\tfields:\n\t\t\t\tname: 1\n\t\t\t\tt: 1\n\t\t\t\tcl: 1\n\t\t\t\tu: 1\n\t\t\t\tusernames: 1\n\t\t\t\ttopic: 1\n\t\t\t\tmuted: 1\n\t\t\t\tarchived: 1\n\n\t\tuser = RocketChat.models.Users.findOneById this.userId, fields: username: 1\n\t\treturn RocketChat.models.Rooms.findByTypeAndNameContainigUsername 'p', identifier, user.username, options\n\n\tRocketChat.roomTypes.setPublish 'd', (identifier) ->\n\t\toptions =\n\t\t\tfields:\n\t\t\t\tname: 1\n\t\t\t\tt: 1\n\t\t\t\tcl: 1\n\t\t\t\tu: 1\n\t\t\t\tusernames: 1\n\t\t\t\ttopic: 1\n\t\tuser = RocketChat.models.Users.findOneById this.userId, fields: username: 1\n\t\treturn RocketChat.models.Rooms.findByTypeContainigUsernames 'd', [user.username, identifier], options\n"]}