{"version":3,"sources":["meteor://ðŸ’»app/server/methods/setUserActiveStatus.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,uBAAqB,SAAC,MAAD,EAAS,MAAT;AACpB,QAAG,OAAU,CAAC,MAAP,EAAP;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,cAAb,EAA6B,+CAA7B,CAAV,CADD;KAAA;AAGA,QAAO,UAAU,CAAC,KAAK,CAAC,aAAjB,CAAgC,MAAM,CAAC,MAAP,EAAhC,EAAiD,+BAAjD,MAAqF,IAA5F;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,gBAAb,EAA+B,iDAA/B,CAAV,CADD;KAHA;AAAA,IAMA,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,aAAxB,CAAsC,MAAtC,EAA8C,MAA9C,CANA;AAQA,QAAG,WAAU,KAAb;AACC,gBAAU,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAxB,CAAyC,MAAzC,EADD;KARA;AAWA,WAAO,IAAP,CAZoB;EAAA,CAArB;CADD","file":"/server/methods/setUserActiveStatus.coffee.js","sourcesContent":["Meteor.methods\n\tsetUserActiveStatus: (userId, active) ->\n\t\tif not Meteor.userId()\n\t\t\tthrow new Meteor.Error 'invalid-user', '[methods] setUserActiveStatus -> Invalid user'\n\n\t\tunless RocketChat.authz.hasPermission( Meteor.userId(), 'edit-other-user-active-status') is true\n\t\t\tthrow new Meteor.Error 'not-authorized', '[methods] setUserActiveStatus -> Not authorized'\n\n\t\tRocketChat.models.Users.setUserActive userId, active\n\n\t\tif active is false\n\t\t\tRocketChat.models.Users.unsetLoginTokens userId\n\n\t\treturn true\n"]}