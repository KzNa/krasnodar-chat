{"version":3,"sources":["meteor://ðŸ’»app/server/methods/channelsList.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,gBAAc,SAAC,MAAD,EAAS,KAAT,EAAgB,IAAhB;AACb;AAAA,cAAW;AAAA,MAAE,QAAQ;AAAA,QAAE,MAAM,CAAR;OAAV;AAAA,MAAuB,MAAM;AAAA,QAAE,MAAK,EAAP;OAA7B;KAAX;AACA,QAAG,CAAC,CAAC,QAAF,CAAW,KAAX,CAAH;AACC,aAAO,CAAC,KAAR,GAAgB,KAAhB,CADD;KADA;AAGA,QAAG,CAAC,CAAC,IAAF,CAAO,IAAP,CAAH;AACC,cAAO,IAAP;AAAA,aACM,MADN;AAEE,iBAAO,CAAC,IAAR,GAAe;AAAA,YAAE,MAAM,CAAR;WAAf,CAFF;AACM;AADN,aAGM,MAHN;AAIE,iBAAO,CAAC,IAAR,GAAe;AAAA,YAAE,MAAM,EAAR;WAAf,CAJF;AAAA,OADD;KAHA;AAUA,QAAG,MAAH;AACC,aAAO;AAAA,QAAE,UAAU,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,4BAAxB,CAAqD,MAArD,EAA6D,CAAC,GAAD,CAA7D,EAAoE,OAApE,CAA4E,CAAC,KAA7E,EAAZ;OAAP,CADD;KAAA;AAGC,aAAO;AAAA,QAAE,UAAU,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,6BAAxB,CAAsD,GAAtD,EAA2D,KAA3D,EAAkE,OAAlE,CAA0E,CAAC,KAA3E,EAAZ;OAAP,CAHD;KAXa;EAAA,CAAd;CADD","file":"/server/methods/channelsList.coffee.js","sourcesContent":["Meteor.methods\n\tchannelsList: (filter, limit, sort) ->\n\t\toptions =  { fields: { name: 1 }, sort: { msgs:-1 } }\n\t\tif _.isNumber limit\n\t\t\toptions.limit = limit\n\t\tif _.trim(sort)\n\t\t\tswitch sort\n\t\t\t\twhen 'name'\n\t\t\t\t\toptions.sort = { name: 1 }\n\t\t\t\twhen 'msgs'\n\t\t\t\t\toptions.sort = { msgs: -1 }\n\n\t\tif filter\n\t\t\treturn { channels: RocketChat.models.Rooms.findByNameContainingAndTypes(filter, ['c'], options).fetch() }\n\t\telse\n\t\t\treturn { channels: RocketChat.models.Rooms.findByTypeAndArchivationState('c', false, options).fetch() }\n"]}