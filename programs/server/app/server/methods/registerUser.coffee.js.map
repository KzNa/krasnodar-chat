{"version":3,"sources":["meteor://ðŸ’»app/server/methods/registerUser.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,gBAAc,SAAC,QAAD;AACb;AAAA,QAAG,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,2BAAxB,MAAwD,UAA3D;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,uBAAb,EAAsC,+BAAtC,CAAV,CADD;KAAA,MAGK,IAAG,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,2BAAxB,MAAwD,YAAxD,IAAyE,CAAC,SAAY,CAAC,SAAb,IAA0B,QAAQ,CAAC,SAAT,KAAwB,UAAU,CAAC,QAAQ,CAAC,GAApB,CAAwB,qCAAxB,CAAnD,CAA5E;AACJ,YAAU,UAAM,CAAC,KAAP,CAAa,uBAAb,EAAsC,kDAAtC,CAAV,CADI;KAHL;AAAA,IAMA,WACC;AAAA,aAAO,QAAQ,CAAC,KAAhB;AAAA,MACA,UAAU,QAAQ,CAAC,IADnB;KAPD;AAAA,IAUA,SAAS,QAAQ,CAAC,UAAT,CAAoB,QAApB,CAVT;AAAA,IAYA,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,OAAxB,CAAgC,MAAhC,EAAwC,QAAQ,CAAC,IAAjD,CAZA;AAcA,QAAG,QAAQ,CAAC,KAAZ;AACC,cAAQ,CAAC,qBAAT,CAA+B,MAA/B,EAAuC,QAAQ,CAAC,KAAhD,EADD;KAdA;AAiBA,WAAO,MAAP,CAlBa;EAAA,CAAd;CADD","file":"/server/methods/registerUser.coffee.js","sourcesContent":["Meteor.methods\n\tregisterUser: (formData) ->\n\t\tif RocketChat.settings.get('Accounts_RegistrationForm') is 'Disabled'\n\t\t\tthrow new Meteor.Error 'registration-disabled', 'User registration is disabled'\n\n\t\telse if RocketChat.settings.get('Accounts_RegistrationForm') is 'Secret URL' and (not formData.secretURL or formData.secretURL isnt RocketChat.settings.get('Accounts_RegistrationForm_SecretURL'))\n\t\t\tthrow new Meteor.Error 'registration-disabled', 'User registration is only allowed via Secret URL'\n\n\t\tuserData =\n\t\t\temail: formData.email\n\t\t\tpassword: formData.pass\n\n\t\tuserId = Accounts.createUser userData\n\n\t\tRocketChat.models.Users.setName userId, formData.name\n\n\t\tif userData.email\n\t\t\tAccounts.sendVerificationEmail(userId, userData.email);\n\n\t\treturn userId\n"]}